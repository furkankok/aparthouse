<div>
    <div>
        {% if widget.is_initial %}
            <div style="display: flex;gap: 10px;align-items: center;">
                {{ widget.initial_text }}: <a href="{{ widget.value.url }}">{{ widget.value }}</a>

                {% if not widget.required %}
                <input type="checkbox" name="{{ widget.checkbox_name }}" id="{{ widget.checkbox_id }}"{% if widget.attrs.disabled %} disabled{% endif %}>
                <label for="{{ widget.checkbox_id }}">{{ widget.clear_checkbox_label }}</label>
                {% endif %}
            </div>
            <div style="display: flex;gap: 10px;align-items: center;">
                {{ widget.input_text }}:
                <input type="{{ widget.type }}" name="{{ widget.name }}"{% include "django/forms/widgets/attrs.html" %}>

            </div>
        {% else %}
            <input type="{{ widget.type }}" name="{{ widget.name }}"{% include "django/forms/widgets/attrs.html" %}>

        {% endif %}
    </div>


</div>


<img id="customImagePreview" src="{% if widget.value %}{{ widget.value.url }}{% endif %}" style="max-width: 200px; max-height: 200px;">

<script >
    'use strict';
    {
        const $ = django.jQuery;
        $('#customInputField').on('change', function() {
            const file = this.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                $('#customImagePreview').attr('src', e.target.result);
            }
            reader.readAsDataURL(file);
        });
    }

</script>